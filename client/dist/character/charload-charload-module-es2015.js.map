{"version":3,"sources":["./src/app/charload/char-card/char-card.component.ts","./src/app/charload/char-card/char-card.component.html","./src/app/charload/charload-routing.module.ts","./src/app/charload/charload.module.ts","./src/app/charload/load/load.component.ts","./src/app/charload/load/load.component.html","./src/app/services/char.service.ts"],"names":[],"mappings":"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","file":"charload-charload-module-es2015.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport { CharDataService } from '../../services/char-data.service';\r\nimport { UserService } from '../../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-char-card',\r\n  templateUrl: './char-card.component.html',\r\n  styleUrls: ['./char-card.component.css']\r\n})\r\nexport class CharCardComponent implements OnInit {\r\n  @Input() char: {};\r\n  ac:number;\r\n\r\n  constructor(private router: Router,\r\n    private userService: UserService,\r\n    private charDataSvc: CharDataService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.ac = this.calcAc(this.char[\"CharACs\"]);\r\n  }\r\n  isDeceased = (pers: {}) => {\r\n    return pers['isDead'];\r\n  }\r\n  joinArrays = (arr: []) => {\r\n    const classes = arr.map(arg => arg['CharClass']['className']+'/').join('');\r\n    const lvls = arr.map(arg => arg['classLevel']+'/').join('');\r\n    return `${classes.substr(0, classes.length - 1)} - ${lvls.substr(0, lvls.length - 1)}`;\r\n  }\r\n  calcAc = (arr:[]) => {\r\n    return arr.reduce( (a, b) => a + b[\"score\"], 0);\r\n  }\r\n\r\n}\r\n","\r\n  <div class=\"card\">\r\n    <div class=\"content\">\r\n      <div *ngIf=\"isDeceased(char)\" class='crossbar'>Deceased</div>\r\n      <div class=\"header\">{{char[\"charName\"]}}</div>\r\n      <img src=\"../../../assets/{{char['image']}}\" />\r\n      <div class='classBar'>{{joinArrays(char['CharLevels'])}} </div>\r\n      <div class='detailHolder'>\r\n        <div class='acRating'>\r\n          <p>{{ac}}</p>\r\n        </div>\r\n        <div class='hpRating'>\r\n          <p>{{char[\"charHP\"]}}</p>\r\n        </div>\r\n        <div style='text-align: center;'>{{char[\"User\"][\"userName\"]}}</div>\r\n        <div style='text-align: center;'>{{char['Race']['raceDesc']}}</div>\r\n        <div style='text-align: center;'>{{char['Alignment']['alignName']}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoadComponent } from './load/load.component'\r\n\r\nconst routes: Routes = [\r\n  {path:'', component: LoadComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CharloadRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { LoadComponent } from './load/load.component';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { CharloadRoutingModule } from './charload-routing.module';\r\nimport { CharCardComponent } from './char-card/char-card.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [LoadComponent,\r\n    CharCardComponent],\r\n  imports: [\r\n    CommonModule,\r\n    CharloadRoutingModule,\r\n    FontAwesomeModule,\r\n  ]\r\n})\r\nexport class CharloadModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport { CharService } from '../../services/char.service';\r\nimport { CharDataService } from '../../services/char-data.service';\r\nimport {CharCardComponent} from \"../char-card/char-card.component\"\r\n\r\ninterface Character {\r\n  results: {\r\n    charID: number;\r\n    charName: string;\r\n    charHP: number;\r\n    Race: {\r\n      raceDesc: string;\r\n    },\r\n    User: {\r\n      userName: string;\r\n      userEmail: string;\r\n    },\r\n    CharAcs: {\r\n      score: number;\r\n    }[],\r\n    CharLevels: {\r\n      classLevel: number;\r\n      CharClass: {\r\n        className: string;\r\n      }\r\n    }[],\r\n    Alignment:{\r\n      alignID: number;\r\n      alignName: string;\r\n    }\r\n  }[];\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-load',\r\n  templateUrl: './load.component.html',\r\n  styleUrls: ['./load.component.css']\r\n})\r\nexport class LoadComponent implements OnInit {\r\n  characters = [];\r\n  deadCharacters = [];\r\n  charID: number;\r\n\r\n  constructor(private charSvc: CharService,\r\n              private charDataSvc: CharDataService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.charSvc.getChars().subscribe( results => {\r\n      this.characters = results.results;\r\n      this.charSvc.setAllChars(results);\r\n    });\r\n  }\r\n  displayChar = async (id: number, name: string) => {\r\n    this.charDataSvc.reset();\r\n    this.charDataSvc.loadCharBase(id.toString()).subscribe( async val => {\r\n      this.charDataSvc.setCharBasics(val);\r\n      this.charDataSvc.setCharID(id);\r\n      this.charDataSvc.setCharName(name);\r\n      this.router.navigate(['/charGen']);\r\n    });\r\n\r\n  }\r\n  getClasses = (arr) => {\r\n    const str = []\r\n    for ( const c of arr){\r\n      str.push(c.CharClass.className);\r\n    }\r\n    return str.join(', ');\r\n  }\r\n\r\n  getLevels = (arr: []) => {\r\n    const str = []\r\n    for ( const c of arr){\r\n      str.push(c['classLevel']);\r\n    }\r\n    return str.join('/');\r\n  }\r\n}\r\n","<!--\r\n<table class=\"ui selectable celled table striped\">\r\n  <thead>\r\n    <tr><th>Name</th>\r\n    <th>Race</th>\r\n    <th>Class(es)</th>\r\n    <th>Level(s)</th>\r\n  </tr></thead>\r\n  <tbody>\r\n    <tr style='cursor: pointer;' *ngFor='let c of characters' (click)='displayChar(c.charID, c.charName)'>\r\n      <td data-label='Name'>{{c.charName}}</td>\r\n      <td data-label='Race'>{{c.Race.raceDesc}}</td>\r\n      <td data-label='Classes'>{{getClasses(c.CharLevels)}}</td>\r\n      <td data-label='Levels'>{{getLevels(c.CharLevels)}}</td>\r\n    </tr>\r\n\r\n  </tbody>\r\n</table>\r\n<table class=\"ui selectable celled table striped\">\r\n  <thead>\r\n    <tr>\r\n      <th colspan=\"4\">Dead</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr style='cursor: pointer;' *ngFor='let c of deadCharacters' (click)='displayChar(c.charID, c.charName)'>\r\n      <td data-label='Name'>{{c.charName}}</td>\r\n      <td data-label='Race'>{{c.Race.raceDesc}}</td>\r\n      <td data-label='Classes'>{{getClasses(c.CharLevels)}}</td>\r\n      <td data-label='Levels'>{{getLevels(c.CharLevels)}}</td>\r\n    </tr>\r\n\r\n  </tbody>\r\n</table>\r\n-->\r\n<div class=\"ui cards\">\r\n    <app-char-card *ngFor = \"let aChar of characters\" [char]=\"aChar\" (click)='displayChar(aChar.charID, aChar.charName)' ></app-char-card>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport {pluck} from 'rxjs/operators';\r\n\r\nexport interface Character {\r\n  results: {\r\n    charID: number;\r\n    charName: string;\r\n    charHP: number;\r\n    Race: {\r\n      raceDesc: string;\r\n    },\r\n    User: {\r\n      userName: string;\r\n      userEmail: string;\r\n    },\r\n    CharLevels: {\r\n      classLevel: number;\r\n      CharClass: {\r\n        className: string;\r\n      }\r\n    }[],\r\n    CharACs: {\r\n      score: number;\r\n    }[],\r\n    Alignment:{\r\n      alignID: number;\r\n      alignName: string;\r\n    }\r\n  }[];\r\n}\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CharService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  // DECLARATIONS\r\n  private allChars = new BehaviorSubject<Character> ({results: []} as Character);\r\n\r\n  // GETTERS\r\n  getAllChars = this.allChars.asObservable();\r\n\r\n  // SETTERS\r\n  setAllChars(arg) { this.allChars.next(arg); }\r\n\r\n  public getChars = () => {\r\n    //return this.http.get<Character>('https://cors-anywhere.herokuapp.com/https://pathfinder-krc.herokuapp.com/api/characters/all', {\r\n    return this.http.get<Character>('/api/characters/all', {\r\n        headers: new HttpHeaders({\r\n        'Access-Control-Allow-Origin': '*'\r\n      }),\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}