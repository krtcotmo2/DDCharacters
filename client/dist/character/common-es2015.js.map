{"version":3,"sources":["./src/app/services/expendable.service.ts","./src/app/services/socket.service.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Socket } from 'ngx-socket-io';\r\n\r\n\r\nexport enum ExpendableType {\r\n  Class = 'Class',\r\n  Charge = 'Charge',\r\n  Potion = 'Potion',\r\n  Scroll = 'Scroll'\r\n\r\n}\r\nexport interface Expendable {\r\n  id: number;\r\n  charID: number;\r\n  description: string;\r\n  expType: ExpendableType;\r\n  qty: number;\r\n}\r\n\r\ninterface Expendables {\r\n  charID: string;\r\n  results: Expendable[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ExpendableService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private socket: Socket\r\n  ) { }\r\n\r\n  // DECLARATIONS\r\n  private allExpendables = new BehaviorSubject<Expendables>( {results: []} as Expendables );\r\n  // GETTERS\r\n  getExpendables = this.allExpendables.asObservable();\r\n  // SETTERS\r\n  setExpendables(arg) { this.allExpendables.next(arg); }\r\n\r\n  loadExpendables = (charID: number) =>{\r\n    const val =  this.http.get<any>('/api/expendables/get/' + charID.toString(), {\r\n        headers: new HttpHeaders({\r\n        'Access-Control-Allow-Origin': '*'\r\n      }),\r\n    });\r\n    return val;\r\n  }\r\n\r\n  insertExpendables = (body: {}) => {\r\n    const val =  this.http.post<any>('/api/expendables/add', body, {\r\n      headers: new HttpHeaders({\r\n        'Access-Control-Allow-Origin': '*'\r\n      }),\r\n    });\r\n    return val;\r\n  }\r\n\r\n  deleteExpendables = (expId: number) => {\r\n    const val =  this.http.delete<any>('/api/expendables/delete/' + expId.toString(), {\r\n      headers: new HttpHeaders({\r\n        'Access-Control-Allow-Origin': '*'\r\n      }),\r\n    });\r\n    return val;\r\n  }\r\n\r\n  updateExpendables = (body: {}) => {\r\n    const val =  this.http.post<any>('/api/expendables/update', body, {\r\n      headers: new HttpHeaders({\r\n        'Access-Control-Allow-Origin': '*'\r\n      }),\r\n    });\r\n    this.socket.emit('UPDATEEXPENDABLE', body);\r\n    return val;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Socket } from 'ngx-socket-io';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SocketService {\r\n\r\n  constructor(private socket: Socket) { }\r\n\r\n  getInitialData() {\r\n    return this.createObserver('initial');\r\n  }\r\n\r\n  updateHP() {\r\n    return this.createObserver('hpUupdate');\r\n  }\r\n\r\n  updateSpell() {\r\n    return this.createObserver('spellUpdate');\r\n  }\r\n\r\n  addSpell() {\r\n    return this.createObserver('addSpell');\r\n  }\r\n\r\n  deleteSpell() {\r\n    return this.createObserver('deleteSpell');\r\n  }\r\n\r\n  changeSpell() {\r\n    return this.createObserver('changeSpell');\r\n  }\r\n\r\n  addExpendable() {\r\n    return this.createObserver('addExpendable');\r\n  }\r\n\r\n  deleteExpendable() {\r\n    return this.createObserver('deleteExpendable');\r\n  }\r\n\r\n  updateExpendable() {\r\n    return this.createObserver('updateExpendable');\r\n  }\r\n\r\n  private createObserver(evt: string) {\r\n    return this.socket.fromEvent(evt);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}